
<?php

//----------------------------------------------------------
//ブラウザがサーバーにPOSTを送った直後に流れる
//----------------------------------------------------------
require_once('../common/db_inc.php');				//DBを読み込む
session_start();									//セッション会誌

// 日本語メールの設定
mb_language("Japanese");
mb_internal_encoding("UTF-8");

$error = false;

if ($_SERVER['REQUEST_METHOD'] === 'POST') {				//POSTか？
	
	//--------------------------------------------
	//POST受信処理
	//--------------------------------------------
	
	//----------------------------------
	//フォームから送られた値を受け取る
	//----------------------------------
	$email = $_POST['email'];				//e-mail
	$pass = $_POST['password'];				//password

	//----------------------------------
	//メールアドレスでユーザーを検索
	//	supervisorsテーブルから
	//	入力されたemailと一致する行を取得
	//----------------------------------
	$stmt = $pdo->prepare("SELECT * FROM supervisors WHERE email = ?");
	$stmt->execute([$email]);
	$sv = $stmt->fetch();

	if ($sv && password_verify($pass, $sv['password'])) {				//パスワードチェック
		
		//----------------------------------------
		//パスワード一致
		//----------------------------------------
		
		// 1. 5桁の認証コードを生成
		$auth_code = sprintf('%05d', mt_rand(0, 99999));
		$expiry = date('Y-m-d H:i:s', strtotime('+30 minutes'));

		// 2. DBにコードを保存
		$stmt = $pdo->prepare("UPDATE supervisors SET auth_code = ?, auth_expiry = ? WHERE id = ?");
		$stmt->execute([$auth_code, $expiry, $sv['id']]);

		// 3. メールを送信する
		$to = $sv['email'];
		$subject = "【博物館ガイド】ログイン認証コードのお知らせ";
		$body = $sv['name'] . " 様\n\n";
		$body .= "博物館ガイド管理システムへのログインを承りました。\n";
		$body .= "以下の認証コードを入力してログインを完了させてください。\n\n";
		$body .= "認証コード： " . $auth_code . "\n\n";
		$body .= "※有効期限は30分間です。\n";
		$body .= "※心当たりがない場合は、このメールを破棄してください。";
		
		// 送信元（エックスサーバーで作成したアドレスを推奨）
		$headers = "From: info_museum@41mono.net"; // ここを作成したアドレスに書き換えてください

		if (mb_send_mail($to, $subject, $body, $headers)) {
			// 送信成功：認証画面へ
			$_SESSION['auth_sv_id'] = $sv['id'];
			header('Location: auth.php');
			exit;
		} else {
			$message = "メール送信に失敗しました。サーバーの設定を確認してください。";
			$error = true;
		}
	} else {
		$error = true;
	}
}
?>
<!-- 以下、HTML部分は前回と同じ（デザイン刷新版） -->



<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>ログイン - 博物館ガイド</title>
	<style>
		/* CSSカスタムプロパティ(デザイン定義)  */
		:root {
			--primary-color: #26b396;	/* テーマカラー：緑青色（グリーンシアン）系の色 */
			--bg-color: #f4f7f7;		/* 背景カラー :薄いグレー系*/
			--input-bg: #ffffff;		/* 入力タブの背景色:白*/
			--text-color: #333;			/* 文字の色ダークグレー:*/
		}
		
		/* ログイン画面のレイアウト*/
		body {
			font-family: sans-serif;				/* ページ全体の文字を「ゴシック体（サンセリフ）」にする */
			background-color: var(--bg-color);		/* 背景色を CSS 変数(bg-color)  で指定 */
			display: flex;							/* body を フレックスコンテナにする (中の要素.login-cardを自由に配置できるようになる) */
			justify-content: center;				/* 横方向（左右）に中央寄せ*/
			align-items: center;					/* 縦方向（上下）に中央寄せ*/
													/* 縦横centerにすることで画面の中央にログインカードを置く */
			height: 100vh;							/* body の高さを 画面の高さちょうど（100%） にする*/
													/*  vhは「viewport height（画面の高さ）」の略*/
													/* これがないと縦方向の中央寄せが効かない。*/
			margin: 0;								/* ブラウザがデフォルトで付ける余白（8px）を消す*/
													/* これがないと上下に隙間ができてしまう */
		}
		/* ログイン画面の白い四角いカード部分の見た目*/
		.login-card {
			background: white;						/* カードの背景色を白にする。*/
													/* 背景が薄いグレー（body）なので、白いカードが浮き上がって見える */
													/* ログインフォームらしい清潔感のあるデザイン */
			padding: 40px 30px;						/* カードの内側の余白。上下に 40px, 左右に 30px*/
													/* これがあることで、文字や入力欄がカードの端にくっつかず、読みやすくなる。 */
			border-radius: 20px;					/* 角を丸くする。*/
													/* 20px はかなり丸い, モダンで柔らかい印象になる*/
													/* スマホアプリ風の UI に近い*/
			box-shadow: 0 4px 15px rgba(0,0,0,0.08);	/* 影をつけてカードを浮かせる。*/
														/* X方向 0px（左右にずらさない）*/
														/* Y方向 4px（下に少し影を落とす）*/
														/* ぼかし 15px*/
														/* 色は黒の 8% 透明度*/
														/* これで ふわっと浮いたカード に見える。*/
			width: 100%;							/* カードの幅を「親要素いっぱい」に広げる。*/
													/* ただし、次のmax-width とセットで使うのがポイント。*/
			max-width: 350px;						/* カードの最大幅を 350px に制限。*/
													/* スマホでも PC でも ちょうど良い幅になる*/
													/* 画面が広くてもカードが巨大化しない*/
													/* つまり 以下のようなレスポンシブな動きを実現*/
													/* 	画面が狭い → 100%  */
													/* 	画面が広い → 最大350px  */
													
													
			text-align: center;						/* カード内のテキストを中央揃えにする。 */
													/* タイトル、パスワード再発行、ボタンテキスト などが中央揃え*/
		}
		/* ログイン画面のタイトル（「ログイン」）の見た目を整えるための CSS */
		h2 {
			color: var(--text-color);				/* - 文字色を CSS 変数 --text-color に設定 - 今は #333（濃いグレー）*/
													/* 真っ黒より柔らかく、読みやすい色 */
			margin-bottom: 30px;					/* タイトルの下に 30px の余白を作る */
													/* これがあることで、タイトルと入力フォームの間にスペースができて見やすくなる */
			font-size: 1.4em;						/* 文字サイズを通常の 1.4 倍にする。 emは「親要素のフォントサイズに対する倍率」*/
													/* ログイン画面のタイトルとしてちょうど良い大きさ */
		}
		
		/* 入力欄（メールアドレス・パスワード）を包むための枠*/
		/* 特に パスワードの目アイコンを正しく配置するための基準点 */
		.input-group {
			position: relative;						/* この中にある子要素（特に目アイコン）を絶対位置で配置できるようにするため。*/
			margin-bottom: 15px;					/* 下に 15px の余白*/
		}
		
		/* ログイン画面の入力欄（メール・パスワード）を綺麗に見せるための CSS  */
		input {
			width: 100%;							/* 入力欄を親要素（.input-groupe）の幅いっぱいに広げる*/
													/* スマホでも PC でも横幅が綺麗に揃う */
			padding: 14px 20px;						/* 内側の余白を設定 (上下 14px、左右 20px)*/
													/* 文字が窮屈にならず、タップしやすい（スマホ向けにも重要）*/
			border-radius: 30px;					/* 入力欄の角を丸くする (30px はかなり丸い → モダンで柔らかい印象)*/
													/* アプリっぽい UI に近づく*/
			border: 1px solid #ddd;					/* 薄いグレーの枠線 (目立ちすぎず、シンプルで上品)*/
			background-color: var(--input-bg);		/* - 背景色を CSS 変数 --input-bg で指定*/
			font-size: 16px;						/* 入力文字の大きさを 16px に統一 */
													/* スマホで「ズームされる問題」を防ぐ（iOS の仕様）*/
			box-sizing: border-box;					/* 入力欄が親要素からはみ出さないようにしている。*/
													/* これが実はとても重要。*/
													/* width = 100%と書いたとき*/
													/* 	padding や border を含めて 100% にする設定*/
													/* これがないと　width 100% + padding + border → はみ出すという事故が起きる*/
			outline: none;							/* フォーカスしたときの「青い枠」を消す (デザインを統一するため)*/
		}
		
		/* 入力欄にフォーカス（カーソルが入った状態）したときの見た目を変えるための CSS */
		/* :fucusは疑似クラス*/
		/* 入力欄をクリックしたり、タップしたりして カーソルが入った瞬間 に適用される*/
		/* どう変わるか*/
		/* 	今のprimary-color: #26b396なので緑系なので入力中の欄だけ枠線が緑色になる*/
		/*	そのためどこに入力しているか一目でわかる*/
		input:focus {
			border-color: var(--primary-color);
		}

		/* パスワード入力欄の右側にある「目のアイコン」を正しい位置に配置し、クリックできるようにするための CSS */
		.toggle-password {
			position: absolute;					/* この要素（目アイコン）を 絶対位置で配置する */
												/* 親要素 input-groupがposition:relativeなので入力欄の枠を基準にして位置を決められる*/
												/* これがないと、アイコンが画面の変な場所に飛んでいく。*/
			right: 18px;						/* 親要素の右端から 18px 左に寄せる (入力欄の右側にピッタリ配置するための調整)*/
			top: 50%;							/* 親要素の高さの 50%（中央） に配置する (ただし、これだけだと「中央より少し下」にズレる。)*/
			transform: translateY(-50%);		/* top:50%で中央に置いた後、自分自身の高さの 50% 分だけ上に移動する */
												/* これで 完全に上下中央に揃う。*/
			cursor: pointer;					/* マウスカーソルを「指マーク」にする (「ここはクリックできるよ」とユーザーに伝える)*/
			color: #888;						/* アイコンの色を薄いグレーにする (入力欄の邪魔にならず、控えめな見た目にする)*/
			display: flex;						/* アイコンをフレックスボックスにする (中身（アイコン文字）が中央に揃う)*/
			align-items: center;				/* アイコン内部の文字（👁）を上下中央に揃える*/

		}

		/* ログインボタンの見た目と操作性を整えるための CSS*/
		.btn-login {
			width: 100%;						/* ボタンを親要素（ .login-cardの幅）いっぱいに広げる*/
												/* (スマホでも PC でも横幅が揃って見やすい)*/
			padding: 14px;						/* ボタン内部の余白,上下左右に 14px のスペースを確保*/
			border-radius: 30px;				/* ボタンの角を丸くする。 30px はかなり丸い → モダンで柔らかい印象*/
			border: none;						/* 枠線を消す。シンプルでフラットなデザインにする*/
			background-color: var(--primary-color);	/* ボタンの背景色をテーマカラーにする(緑系)*/
			color: white;						/* 文字色を白にする（背景色とのコントラストが強く、読みやすい）*/
			font-size: 16px;					/* 文字サイズを 16px に統一 (スマホでの視認性が高い)*/
												/* iOS の「小さい文字でズームされる問題」を防ぐ */
			font-weight: bold;					/* 文字を太字にする (ボタンとしての存在感が出る)*/
			cursor: pointer;					/* マウスカーソルを「指マーク」にする (「ここは押せるボタンだよ」と視覚的に伝える)*/
			margin-top: 15px;					/* ボタンの上に 15px の余白を作る*/
		}

		/* ログイン画面の下にある「パスワードを忘れた方はこちら」などのリンク部分の見た目を整えるための CSS*/
		/* メイン（入力欄・ボタン）＞ サブ（リンク）という視覚的な優先順位が大事*/
		.links {
			margin-top: 20px;		/*リンク部分の 上に 20px の余白を作る(ログインボタンとリンクがくっつかないようにする)*/
			font-size: 13px;		/*リンクの文字サイズを少し小さくする*/
									/* メイン要素（入力欄やボタン）より控えめに見せる */
									/* 「補助的な情報」であることを視覚的に伝える*/
		}

		/* ログイン画面の下にあるリンク（例：パスワード再発行など）に対して、見た目を整えるための CSS*/
		.links a {
			color: #888;				/* リンクの文字色を薄いグレーにする */
										/* メイン要素（ボタンや入力欄）より控えめに見せる*/
										/* 	「補助的な情報」であることを自然に伝える*/
			text-decoration: none;		/* リンクの下線を消す*/
										/* HTML の  タグはデフォルトで下線が付くけど、*/
										/* ログイン画面のような UI では下線があると少し古い印象になる。*/

		}

		/* モーダル */
		/* エラーメッセージを画面全体に覆う“黒い半透明の背景（モーダル）”を表示するための CSS */
		/* PHP と CSS が連動していて、UI 的にも重要な部分*/
		/* 役割 */
		/* 	・画面全体を覆う黒い半透明のレイヤー*/
		/*	・その中央にエラーメッセージのボックス（.modal-content)を表示する*/
		/*	・$werrorがtrueの時だけ表示される*/
		/* つまり 「エラーが起きたときに出るポップアップの背景」。*/
		.modal-overlay {
			display: <?= $error ? 'flex' : 'none' ?>;				/* $error == true	--->display:flex	表示*/
																	/* $error == false	--->display:none	非表示*/
																	/* つまりPHPがCSSに直接値を埋め込んでエラーがあるときだけモーダルを表示する仕組み。*/
			position: fixed;										/* 画面に固定される、スクロールしても動かない、常に画面全体を覆う */
			top: 0; left: 0; width: 100%; height: 100%;				/* 画面の左上から右下まで 全画面を覆う (これで「背景を暗くするレイヤー」が完成する。)*/
			background: rgba(0,0,0,0.5);							/* 黒（0,0,0）,透明度 0.5（50%）半透明の黒い背景*/
			justify-content: center; align-items: center;			/* .modal-overlayをflexコンテナとして使い、中のmodal-contentを完全に中央に配置する*/
																	/* 背景の中央に白いエラーボックスが出るのはこのおかげ。*/
			z-index: 1000;											/* 画面上のほぼすべての要素より前面に表示する (モーダルが他の UI に隠れないようにする)*/
		}
		/* エラーメッセージ用の小さなポップアップを作るためのCSS*/
		/* 	白い背景で、適度な余白があり、角が丸く、中央揃えで、スマホでも PC でもちょうど良いサイズ*/
		.modal-content {
			background: white;					/*モーダルの背景色を白にする*/
												/* modal-overlayの黒い半透明背景の上に、白い箱が浮かぶように見える*/
			padding: 25px;						/* 内側に 25px の余白をつける*/
			border-radius: 15px;				/* 角を 15px 丸くする*/
			text-align: center;					/* 角を 15px 丸くする*/
			width: 80%;							/* モーダルの幅を画面の 80% にする*/
			max-width: 280px;					/* モーダルの最大幅を 280px に制限*/
												/* 画面が広くても巨大化しない*/
												/* 小さくて読みやすい“ポップアップサイズ”を維持する*/
		}
		/* エラーモーダルの中にある「再試行」ボタンのデザインを整えるための CSS*/
		/* 	ログイン画面の.btn-loginと似ているけれど、モーダル用に少し小さめ・控えめに作られている。*/
		/* これは モーダル内のボタン（OK / 再試行）を押しやすく、見やすくするためのスタイル。*/
		.btn-retry {
			background: var(--primary-color);							/* ボタンの背景色をテーマカラー（緑系）にする (モーダル内でも「操作ボタン」として目立つ)*/
			color: white;												/* 文字色を白にする (背景色とのコントラストが強く、読みやすい)*/
			border: none;												/* 枠線を消す (シンプルでモダンなフラットデザインにする)*/
			padding: 8px 25px;											/* ボタン内部の余白、上下8px、左右25px* (.btn-loginより少し小さめ＝モーダル用のサイズ感)*/
			border-radius: 20px;										/* 角を丸くする（モーダルの柔らかいデザインと統一される）*/
																		/* (.btn-login30pxより控えめな丸み)*/
			cursor: pointer;											/* マウスカーソルを「指マーク」にする(「押せるボタン」であることを視覚的に伝える)*/
			margin-top: 15px;											/* ボタンの上に余白を作る*/
		}
	</style>
</head>
<body>

<!--
//------------------------------------------------------------
//ログインカード（白い箱）の中に、
//・タイトル
//・入力フォーム（メール・パスワード）
//・ログインボタン
//・補助リンク
//をまとめて表示（CSS の.login-card がこのブロック全体に適用されている。）
------------------------------------------------------------
-->


<!--
//------------------------------------------------------------
//	白いカードの外枠
//-----------------------------------------------------------
-->
<div class="login-card">

	<!--
	//--------------------------------------------------------
	//タイトル 
	//--------------------------------------------------------
	-->
	<h2>ログイン</h2>

	<!-- 
	//--------------------------------------------------------
	//ログインフォーム本体 
	//	POST で送信するので、 _$_POST['email']や_$_POST['password']が受け取れる
	//--------------------------------------------------------
	-->
	<form method="POST">
		
		<!-- 
		//--------------------------------------------------
		//入力欄を包む枠
		//	CSSの.input-groupによりposition:relative(目のアイコンの基準点)、下に15pxの余白が設定されている
		//--------------------------------------------------
		-->
		<div class="input-group">	
		
			<!--
			//----------------------------------------------
			//メールアドレス入力欄
			//	CSSのinputが適用されて 幅100%,角丸30px,padding 14px,背景白,枠線 #ddd,フォーカス時に緑色というモダンなUIになる
			//
			//	value="<?= htmlspecialchars($_POST['email'] ?? '') ?>" これにより ログイン失敗時にメールアドレスを保持できる 
			//----------------------------------------------
			-->
			<input type="email" name="email" placeholder="メールアドレス" required value="<?= htmlspecialchars($_POST['email'] ?? '') ?>">

		</div>

		<!--
		//------------------------------------------------------------------------
		//パスワード入力欄 + 目アイコン（表示/非表示切り替え） を構成する重要な部分
		//------------------------------------------------------------------------
		-->
		
		<!--
		//--------------------------------------------------------------
		//入力欄と目アイコンをまとめる“枠”。
		//	・CSSの.input-groupe{position:relative}が効いていてこの中の要素を基準に絶対配置できるようにする。
		//	・目アイコンを右側に固定するための土台。
		//--------------------------------------------------------------
		-->
		<div class="input-group">
			<!-- 初期状態は password（非表示） -->
			
			<!--
			//----------------------------------------------------------
			//パスワード入力欄そのもの。
			//・type="password"	入力文字が「●●●」で隠れる
			//・name="password"	POST 送信時のキー
			//・id="password"		JavaScript で参照するため
			//・placeholder="パスワード"	薄い説明文
			//・required			未入力だと送信できない
			//
			//CSS により：角丸 30px、padding 14px、幅 100%、フォーカス時に枠線が緑色
			//というモダンな UI になる。
			//
			//
			//----------------------------------------------------------
			-->
			<input type="password" name="password" id="password" placeholder="パスワード" required>
	

			<!--
			//----------------------------------------------------------
			//目アイコンを包む要素。
			//toggle-passwordのCSSにより
			//・絶対位置で右側に固定
			//・上下中央揃え
			//・カーソルが pointer
			//・色は薄いグレー
			//
			//onclick="togglePassword()
			//	クリックすると JavaScript の  が実行され、パスワードの表示/非表示を切り替える。
			//
			//
			//----------------------------------------------------------
			-->
			<span class="toggle-password" onclick="togglePassword()">
			
			
				<!--
				//------------------------------------------------------
				//目アイコンを描くための SVG（ベクター画像）
				//	幅 20px、高さ 20px。
				//	線の太さや角の形状も指定されている。
				//------------------------------------------------------
				-->
				<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					
					
					<!-- 
					//--------------------------------------
					//目の形 
					//	曲線で「目の形」を描いている。
					//--------------------------------------
					-->
					<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>

					<!--
					//--------------------------------------
					// 瞳 
					//--------------------------------------
					-->
					<circle cx="12" cy="12" r="3"></circle>
					
					
					<!-- 
					//--------------------------------------
					//斜線（初期状態は表示：パスワードが隠れているため） 
					//	「パスワード非表示状態」を表す斜線
					//
					//		左上→右下に斜線を引く。
					//		id="eye-slash"が付いているので、JavaScript で表示/非表示を切り替えることができる。
					//
					//--------------------------------------
					-->
					<line id="eye-slash" x1="1" y1="1" x2="23" y2="23"></line>
				</svg>
			</span>
		</div>
		<!--
		//--------------------------------------------------
		//ボタンが押されるとフォーム全体を送信
		//	form method="POST"にあるのでPOSTリクエストが送信される
		//	つまりログイン処理を実行するトリガー
		//
		//		type="submit"がポイント
		//		このボタンは フォームを送信するボタン。
		//		つまり、押された瞬間に：<form method="POST">
		//		このフォーム全体が POST リクエストとしてサーバーに送られる。
		//		送られるデータは：
		//			・email
		//			・password
		//		の2つ
		//
		//		ブラウザがサーバーにPOSTを送る
		//			ユーザーがボタンを押すと、ブラウザはこのページ（例：login.php）に対して：
		//			POST /Login.pho
		//		というリクエストを送る。
		//
		//		送信される内容は：
		//			email=xxxx@example.com
		//			password=xxxxxx
		//
		//		送信が終了すると
		//		このページ（例：login.php）のPHP先頭部分
		//			require_once('../common/db_inc.php');
		//			session_start();
		//		が実行される
		//			
		//
		//--------------------------------------------------
		-->
		<button type="submit" class="btn-login">ログイン</button>	
	</form>
	
	<!--
	//--------------------------------------------
	//補助リンク（今回は「パスワードを忘れた方はこちら」）を包むためのコンテナ
	//	メインのログインボタンの下に、補助的な案内を置くための枠」。
	//
	//	実際のリンク部分
	//		<a href="reissue.php">パスワードを忘れた方はこちら</a>
	//	
	//		CSSの.linksが適用されて
	//			上に20pxの余白
	//			文字サイズ13px
	//--------------------------------------------
	-->
	<div class="links">
		<a href="reissue.php">パスワードを忘れた方はこちら</a>
	</div>

</div>

<!--
//--------------------------------------------------------------------
//	エラー発生時に表示されるモーダル（ポップアップ）
//--------------------------------------------------------------------
-->

<!--
//----------------------------------------------------------
//モーダルの“黒い半透明の背景”部分。
//
//	.modal-overlayのCSSにより
//		・画面全体を覆う
//		・半透明の黒背景
//		・flexで中央寄せ
//		・$errorがtrueの時のみ表示
//
//	id="errModal"はJavaScript で表示/非表示を切り替えるための識別子。
//
//----------------------------------------------------------
-->
<div class="modal-overlay" id="errorModal">

	<!--
	//--------------------------------------------
	//モーダルの“白い箱”部分。
	//
	//	.modal-contentのCSSにより
	//		・白背景
	//		・角丸 15px
	//		・padding 25px
	//		・幅 80%（最大 280px）
	//		・中央揃え
	//		という 小さなポップアップが作られる
	//
	//
	//
	//
	//--------------------------------------------
	-->
	<div class="modal-content">
		<p>メールアドレスまたは<br>パスワードが正しくありません</p>
		
		<!--
		//----------------------------------------
		//モーダル内の「再入力」ボタン。
		//
		//	.btn-retryのCSSにより
		//		・背景：テーマカラー
		//		・白文字
		//		・角丸 20px
		//		・padding 8px 25px
		//		・上に 15px の余白
		//		という小さめの操作ボタンとなる
		//
		//
		//	onclick="document.getElementById('errorModal').style.display='none'">
		//		・ボタンを押したときにモーダルを閉じる JavaScript。
		//		・errorModel（＝黒い背景全体）を display: none にして非表示にする。
		//		つまり
		//		・ モーダルを閉じる
		//		・入力画面に戻る
		//		を実現
		//
		//
		//
		//----------------------------------------
		-->
		<button class="btn-retry" onclick="document.getElementById('errorModal').style.display='none'">再入力</button>
		
		
		
	</div>
</div>

<script>
	//------------------------------------------------------
	//パスワード入力欄の「目アイコン」をクリックしたときに、
	//表示／非表示を切り替える関数
	//------------------------------------------------------
	function togglePassword() {
		const passInput = document.getElementById('password');		//HTMLの <input id="password"> を取得。
																	//passInputはパスワード入力欄そのもの。

		const eyeSlash = document.getElementById('eye-slash');		// SVG 内の <line id="eye-slash"> を取得。
																	//これは「斜線（／）」を描く線で、 パスワードが隠れている状態を表すアイコン。


		if (passInput.type === 'password') {		// 現在の状態が「非表示（●●●）」かどうかを判定。

			//------------------------------------
			// 文字を見せる設定
			//------------------------------------
			passInput.type = 'text';						//入力欄のタイプを password → text (入力文字が見える状態になる)
			eyeSlash.style.display = 'none';				//斜線を消す（普通の目にする）
		} else {
			//------------------------------------
			// 文字を隠す設定
			//------------------------------------
			passInput.type = 'password';					//入力欄のタイプを text → password (入力文字が見えない状態になる)
			eyeSlash.style.display = 'block';				//斜線を消す（普通の目にする）
		}
	}
</script>

</body>
</html>